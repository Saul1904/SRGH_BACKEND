<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="empleado.css">
  
  

  <title>Detalle del Empleado</title>
</head>

  <body>
    <div class="container">
        <!-- Barra lateral hamburguesa -->
        <nav class="sidebar" id="sidebar">
            <button class="hamburger-btn" id="hamburgerBtn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="menu-content">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="candidatos.html"><i class="fas fa-user-plus"></i> Candidatos</a></li>
                    <li><a href="empleados.html"><i class="fas fa-user"></i> Empleados</a></li>
                    <li><a href="seguridad-social.html"><i class="fas fa-shield-alt"></i> Seguridad Social</a></li>
                    <li><a href="informes.html"><i class="fas fa-chart-line"></i> Informes</a></li>
                </ul>
            </div>
        </nav>

  <div class="contenedor">
    <h1>👤 Detalle del Empleado</h1>

    <div class="tabs">
        <div class="tab active" onclick="mostrarTab('datos-publicos')">Datos Públicos</div>
        <div class="tab" onclick="mostrarTab('datos-personales')">Datos Personales</div>
        <div class="tab" onclick="mostrarTab('documentos')">Documentos</div>
        <div class="tab" onclick="mostrarTab('nominas')">Nóminas</div> <!-- ✅ Nueva pestaña -->
        <div class="tab" onclick="mostrarTab('ausencias')">Ausencias</div> 
         <div class="tab" onclick="mostrarTab('turnos')">Turnos</div> <!-- ✅ Nueva pestaña -->
    </div>

  <!-- TAB: DATOS PÚBLICOS -->
<div id="datos-publicos" class="contenido-tab active">
    <div class="info">
        <h2>Datos Públicos <i class="fa-solid fa-pen" onclick="mostrarModalEditarDatosPublicos()"></i></h2>
        <p><strong>Nombre:</strong> <span id="nombre"></span></p>
        <p><strong>Apellido:</strong> <span id="apellido"></span></p>
        <p><strong>Departamento:</strong> <span id="departamento"></span></p>
    </div>
</div>
<!-- Modal para Editar Datos Públicos -->
<div id="modal-editar-datos-publicos" class="modal">
  <div class="modal-contenido">
    <span class="close" onclick="cerrarModal('modal-editar-datos-publicos')">&times;</span>
    <h2>Editar Datos Públicos</h2>
    <form id="form-editar-datos-publicos">
      <label for="editar-nombre">Nombre:</label>
      <input type="text" id="editar-nombre" name="nombre" required>

      <label for="editar-apellido">Apellido:</label>
      <input type="text" id="editar-apellido" name="apellido" required>

      <label for="editar-departamento">Departamento:</label>
      <input type="text" id="editar-departamento" name="departamento" required>

      <div style="margin-top: 10px;">
        <button type="submit">Guardar</button>
        <button type="button" onclick="cerrarModal('modal-editar-datos-publicos')">Cancelar</button>
      </div>
    </form>
  </div>
</div>


<!-- TAB: DATOS PERSONALES -->
<div id="datos-personales" class="contenido-tab">
    <div class="info">
        <h2>Datos Personales <i class="fa-solid fa-pen" onclick="mostrarModalEditarDatosPersonales()"></i></h2>
        <p><strong>Correo Electrónico:</strong> <span id="email"></span></p>
        <p><strong>Teléfono:</strong> <span id="telefono"></span></p>
        <p><strong>Sueldo:</strong> <span id="sueldo"></span></p>
        <p><strong>Fecha de Ingreso:</strong> <span id="fecha"></span></p>
    </div>
</div>

<!-- Modal para Editar Datos Personales -->
<div id="modal-editar-datos-personales" class="modal">
  <div class="modal-contenido">
    <span class="close" onclick="cerrarModal('modal-editar-datos-personales')">&times;</span>
    <h2>Editar Datos Personales</h2>
    <form id="form-editar-datos-personales">
      <label for="editar-email">Correo Electrónico:</label>
      <input type="email" id="editar-email" name="email" required>

      <label for="editar-telefono">Teléfono:</label>
      <input type="text" id="editar-telefono" name="telefono" required>

      <label for="editar-sueldo">Sueldo:</label>
      <input type="number" id="editar-sueldo" name="sueldo" required>

      <label for="editar-fecha">Fecha de Ingreso:</label>
      <input type="date" id="editar-fecha" name="fecha" required>

      <div style="margin-top: 10px;">
        <button type="submit">Guardar</button>
        <button type="button" onclick="cerrarModal('modal-editar-datos-personales')">Cancelar</button>
      </div>
    </form>
  </div>
</div>


<!-- TAB: Documentos -->
<div id="documentos" class="contenido-tab">
  <h2>📄 Documentos del Empleado</h2>
  
  <!-- Formulario para subir documentos -->
  <form id="form-subir-documento" class="form-docs">
    <input type="hidden" name="id_empleado" id="id_empleado" value="1"> <!-- Cambia dinámicamente el ID del empleado -->

    <div class="form-group">
      <label for="nombre-documento">Nombre del Documento:</label>
      <input type="text" id="nombre-documento" name="nombre" required>
    </div>

    <div class="form-group">
      <label for="tipo-documento">Tipo de Documento:</label>
      <select id="tipo-documento" name="tipo" required>
        <option value="">Selecciona un tipo</option>
        <option value="ACTA_NACIMIENTO">Acta de Nacimiento</option>
        <option value="CURP">CURP</option>
        <option value="RFC">RFC</option>
        <option value="COMPROBANTE_DOMICILIO">Comprobante de Domicilio</option>
        <option value="OTRO">Otro</option>
      </select>
    </div>

    <div class="form-group">
      <label for="archivo-documento">Archivo (PDF):</label>
      <input type="file" id="archivo-documento" name="archivo" accept="application/pdf" required>
    </div>

    <button type="submit" class="btn-subir">Subir Documento</button>
  </form>

  <hr>

  <!-- Tabla para listar documentos -->
  <h3>📚 Lista de Documentos Subidos</h3>
  <table class="tabla-documentos">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Tipo</th>
        <th>Fecha</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="tabla-documentos">
      <!-- Aquí se insertan los documentos dinámicamente con JS -->
    </tbody>
  </table>
</div>
    

    
    <!-- TAB: Nóminas -->
<div id="nominas" class="contenido-tab">
  <h2>💰 Nóminas</h2>
  <button onclick="mostrarModalAgregarNomina()">➕ Agregar Nómina</button>

  <input type="text" id="buscar-nomina" placeholder="Buscar por empleado, sueldo o pago">
  <input type="month" id="filtro-fecha">

  <!-- ✅ Lista de nóminas -->
  <section class="nominas">
    <h2>Lista de Nóminas</h2>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Empleado</th>
          <th>Fecha de Pago</th>
          <th>Sueldo Base</th>
          <th>Deducciones</th>
          <th>Pago Neto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tabla-nominas">
        <!-- Aquí se cargarán las nóminas dinámicamente -->
      </tbody>
    </table>
  </section>
</div>

<!-- Modal para Agregar Nómina -->
<div id="modal-agregar-nomina" class="modal">
  <div class="modal-contenido">
    <h3>Agregar Nómina</h3>
    <form id="form-agregar-nomina">
      <label for="empleado-id">Empleado:</label>
      <select id="empleado-id" name="empleado" required>
        <!-- Opciones cargadas dinámicamente -->
      </select>

      <label for="fecha-pago">Fecha de Pago:</label>
      <input type="date" id="fecha-pago" name="fecha_pago" required>

      <label for="sueldo-base">Sueldo Base:</label>
      <input type="number" id="sueldo-base" name="sueldo_base" required>

      <label for="deducciones">Deducciones:</label>
      <input type="number" id="deducciones" name="deducciones" required>

      <label for="pago-neto">Pago Neto:</label>
      <input type="number" id="pago-neto" name="pago_neto" required>

      <div style="margin-top: 10px;">
        <button type="submit">Guardar</button>
        <button type="button" onclick="cerrarModal('modal-agregar-nomina')">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal para Editar Nómina -->
<div id="modal-editar-nomina" class="modal">
  <div class="modal-contenido">
    <h3>Editar Nómina</h3>
    <form id="form-editar-nomina">
      <input type="hidden" id="editar-id" name="id">

      <label for="editar-empleado-id">Empleado:</label>
      <select id="editar-empleado-id" name="empleado" required>
        <!-- Opciones cargadas dinámicamente -->
      </select>

      <label for="editar-fecha-pago">Fecha de Pago:</label>
      <input type="date" id="editar-fecha-pago" name="fecha_pago" required>

      <label for="editar-sueldo-base">Sueldo Base:</label>
      <input type="number" id="editar-sueldo-base" name="sueldo_base" required>

      <label for="editar-deducciones">Deducciones:</label>
      <input type="number" id="editar-deducciones" name="deducciones" required>

      <label for="editar-pago-neto">Pago Neto:</label>
      <input type="number" id="editar-pago-neto" name="pago_neto" required>

      <div style="margin-top: 10px;">
        <button type="submit">Actualizar</button>
        <button type="button" onclick="cerrarModal('modal-editar-nomina')">Cancelar</button>
      </div>
    </form>
  </div>
</div>
 <!-- TAB: AUSENCIAS -->
<div id="ausencias" class="contenido-tab">
  <h2>📅 Ausencias</h2>
  <button onclick="mostrarModalAgregarAusencia()">➕ Registrar Ausencia</button>

  <input type="text" id="buscar-ausencia" placeholder="Buscar por empleado, tipo o fecha">
  <select id="filtro-tipo">
    <option value="">Todos los tipos</option>
    <option value="Vacaciones">Vacaciones</option>
    <option value="Incapacidad">Incapacidad</option>
    <option value="Permiso">Permiso</option>
    <option value="Falta">Falta</option>
  </select>

  <table class="tabla-ausencias">
    <thead>
      <tr>
        <th>ID</th>
        <th>Empleado</th>
        <th>Fecha Inicio</th>
        <th>Fecha Fin</th>
        <th>Tipo de Ausencia</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="tabla-ausencias">
      <!-- ✅ Las ausencias se insertan aquí con JS -->
    </tbody>
  </table>
</div>

<!-- Modal para Agregar Ausencia -->
<div id="modal-agregar-ausencia" class="modal">
  <div class="modal-contenido">
    <h3>Registrar Ausencia</h3>
    <form id="form-agregar-ausencia">
      <label for="empleado-id">Empleado:</label>
      <select id="empleado-id" name="empleado" >
        <!-- Opciones cargadas dinámicamente -->
      </select>

      <label for="fecha-inicio">Fecha de Inicio:</label>
      <input type="date" id="fecha-inicio" name="fecha_inicio" required>

      <label for="fecha-fin">Fecha de Fin:</label>
      <input type="date" id="fecha-fin" name="fecha_fin" required>

      <label for="tipo-ausencia">Tipo de Ausencia:</label>
      <select id="tipo-ausencia" name="tipo">
        <option value="Vacaciones">Vacaciones</option>
        <option value="Incapacidad">Incapacidad</option>
        <option value="Permiso">Permiso</option>
        <option value="Falta">Falta</option>
      </select>

      <div style="margin-top: 10px;">
        <button type="submit">Guardar</button>
        <button type="button" onclick="cerrarModal('modal-agregar-ausencia')">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal para Editar Ausencia -->
<div id="modal-editar-ausencia" class="modal">
  <div class="modal-contenido">
    <h3>Editar Ausencia</h3>
    <form id="form-editar-ausencia">
      <input type="hidden" id="editar-id" name="id">

      <label for="editar-empleado-id">Empleado:</label>
      <select id="editar-empleado-id" name="empleado" >
        <!-- Opciones cargadas dinámicamente -->
      </select>

      <label for="editar-fecha-inicio">Fecha de Inicio:</label>
      <input type="date" id="editar-fecha-inicio" name="fecha_inicio" required>

      <label for="editar-fecha-fin">Fecha de Fin:</label>
      <input type="date" id="editar-fecha-fin" name="fecha_fin" required>

      <label for="editar-tipo-ausencia">Tipo de Ausencia:</label>
      <select id="editar-tipo-ausencia" name="tipo">
        <option value="Vacaciones">Vacaciones</option>
        <option value="Incapacidad">Incapacidad</option>
        <option value="Permiso">Permiso</option>
        <option value="Falta">Falta</option>
      </select>

      <div style="margin-top: 10px;">
        <button type="submit">Actualizar</button>
        <button type="button" onclick="cerrarModal('modal-editar-ausencia')">Cancelar</button>
      </div>
    </form>
  </div>
</div>


    <div class="volver">
      <a href="empleados.html">← Volver a la lista</a>
    </div>
  </div>
 
  <script src="empleado.js"></script>
  <script src="documentos.js"></script>
  <script src="nominas.js"></script>
  <script src="ausencias.js"></script>  
  <div id="mensaje-exito" class="mensaje-oculto">📸 Imagen subida correctamente</div>

  
  <footer class="footer">
        <p>&copy; 2025 SSMA Solutions. Todos los derechos reservados.</p>
        <p>Contacto: <a href="mailto:ssma_solutions@correo.com">ssma_solutions@outlook.com</a> | Tel: +52 555-123-4567</p>

    </footer>
</body>
</html>

